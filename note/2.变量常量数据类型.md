## 1标记/注释/结束符

```php+HTML
<!-- php标记 -->
<!-- 1 ASP标记和短标记 以前的 不推荐 -->
<!-- 需要apache配置开启short_open_tag=On asp_tags=On -->
<!-- <% echo 'asp<br>'; %> -->
<!-- < ? echo 'short_tag<br>' ; ?> -->
<!-- 2 脚本标记 -->
<!-- <script language="php">
  echo 'script tag<br>';
</script> -->
<!-- 3 标准标记 推荐-->
<?php
// 结尾用分号分隔
// ? >自带分号作用，可以省略最后一行分号
echo 'standard tag<br>';
echo 'hello php<br>'
?>
<!-- 如果省略 ? > 那么最后一行不可以省略分号 -->
<?php
// 行注释
/*
  块
  注
  释
*/
```

2

## 2 变量

### 2.1定义

- 用于存储数据
- 存在名字
- 可以通过名字来访问数据
- 可以改变数据

### 2.2使用

```php
<?php
// 定义变量
$a;
// 变量赋值
$b = 111;
// 访问变量
echo $b;
// 修改变量
$b = 222;
echo $b;
// 删除变量
unset($b);
echo $b;
```



![image-20201210113859223](.\img\image-20201210113859223.png)



### 2.3 变量命名规范

```php
// 命名规则：
// 必须以$符号表示变量
// 名字可以包含英文数字下划线，但不能以数字开头
// php允许中文变量，但不推荐
$aa11_;
// $1a_;
$水果 = '苹果';
echo $水果;
```

![image-20201210114531598](.\img\image-20201210114531598.png)



### 2.4 预定义变量

系统提前定义的变量，都是数组。

- **$_GET**: 获取所有表单以get方式提交的数据
- **$_POST**: 获取所有表单以post方式提交的数据
- **$_REQUEST**: 获取所有表单以get和post方式提交的数据
- $GLOBALS: php中所有全局变量
- **$_SERVER**: 服务器信息
- **$_SESSION**: session会话数据
- **$_COOKIE**: cookie会话信息
- $_ENV: 环境信息
- $_FIELS: 用户上传的文件信息

```
// 提前定义的变量，系统定义的，都是数组。
// $_GET $_REQUEST $GLOBALS等等
$水果='苹果'
echo $GLOBALS['水果']; // 前面在全局下定义了一个$水果='苹果'
```





### 2.5 可变变量

如果变量保存的值就是另一个变量的名字，那么可以通过访问一个变量得到另一个变量的值

- 在变量前面加一个$符号（我愿称之为套娃变量）

  ```php
  // 一个变量的值是另一个变量的名字，通过访问这个变量得到另一个变量，前面需要加$符号，简称套娃
  $a1 = 'a2';
  $a2 = 'a3';
  $a3 = 'a1';
  echo $a1;
  echo $$a1;
  echo $$$a1;
  echo $$$$a1;
  ```

  结果：

![image-20201210120129965](.\img\image-20201210120129965.png)



### 2.6 变量传值

- 值传递

  - 将一个变量保存的值复制一份，再赋值给另一个变量
  - 两个变量没有关系，修改一个不影响另一个

- 引用传递

  - 直接把一个变量的内存地址赋值给另一个变量
  - 两个变量的值都是同一个，修改这个变量，那个变量也跟着变
  - 变量前面加&符号，表示引用传值

  ```php
  // 5变量传值
  $aaa = 111;
  // 值传递 复制变量的值之后再赋值给另一个变量，互相不影响
  $bbb = $aaa;
  // 引用传递 复制变量值的内存地址之后再赋值给另一个变量，指向同一个内存空间，互相影响
  $ccc = &$aaa;
  $aaa = 222;
  echo $aaa, $bbb, $ccc;
  ```

  ![image-20201210121029845](.\img\image-20201210121029845.png)

  

## 3 常量

- 指程序运行中不可改变的数据
- 一旦定义，通常不可修改（用户级别

### 3.1 定义方式

- define('常量名',常量值) 
- 5.3之后才有的：  const 常量名 = 常量值

```php
// 定义方式1
define('PI', 3.14);
// 定义方式2
const PI2 = 3.1;
// define可以定义常量，可以使用特殊符号常量
define('^_^', 'smile');
// const不可以
// const ^_^ = 'smile';
```

- define和const的区别：访问权限不同
- 常量通常不区分大小写，但是可以区分，需要在给define()传递参数时指定大小写敏感为true

> **define**    ( string `$name`   , [mixed](mk:@MSITStore:D:\学习资料\php入门到精通教程\黑马PHP-28天-零基础新手入门教程-代码笔记课件-12863134-15525720-15351498\黑马PHP全阶段资料-无数_mirage\php7_enhanced_zh.chm::/res/language.pseudo-types.html#language.types.mixed) `$value`   [, bool `$case_insensitive` = false  ] ) : bool

### 3.2 使用

```php
// 直接写常量名
echo PI;
// 如果使用有特殊符号名字的常量，需要用访问常量的函数
echo constant('^_^');
```

### 3.3 何时使用常量

- 可能变化的用变量
- 不变化的，都可以用，变量居多，因为可以自动回收内存
- 数据不允许修改的，用常量



### 3.4 系统常量

系统定义好的常量

几个常用系统常量：

- PHP_VERSION: php版本号

- PHP_INT_SIZE: 整形大小

- PHP_INT_MAX: 整形最大值

  ```php
  // 系统常量
  echo '<br>', PHP_VERSION, '<br>', PHP_INT_SIZE, '<br>', PHP_INT_MAX;
  ```

  ![image-20201210140655360](.\img\image-20201210140655360.png)

### 3.5 魔术常量

系统定义的一些特殊常量，开头结尾都是双下划线，类似这种：\__XXX__，值会跟着环境变化，但是用户无法修改

- \__DIR__  当前被执行的脚本所在电脑绝对路径
- \__FILE__   和 _\_DIR__差不多，但是带上自己文件的名字
- \__LINE__ 执行到当前位置的代码行数
- \__NAMESPACE__   命名空间
- \__CLASS__  类
- \__METHOD__  方法



## 4 数据类型

php是弱类型语言，变量本身没有数据类型

### 4.1 8种数据类型

3大类8小类

- 简单数据类型：4小类
  - 整形(int/integer)
    - 根据系统环境不同，一般是4个字节或者8字节，二进制码第一位表示正负号，超出范围的整数会自动转成浮点数
  - 浮点型(float/double) 
    -  8字节或16字节 表示小数或者整形存不下的整数，二进制码第一位是正负号，跟着7位表示乘以10的几次幂，后面位数为科学计数法的因数，两者的乘积就是浮点数据的值。因数是由原数值不断除以2得到的，有精度限制，当出现因数位数过长，或者除不尽的时候，位数超过了精度，多出的尾部会被省略掉，导致结果可能不准确。
  - 字符串型(string)
    - 系统根据实际长度分配，存放字符组成的字符串
  - 布尔型(bool/boolean)
    - 布尔值，真和假：true和false

- 复杂数据类型：2小类
  - 对象类型： object
    - 面向对象
  - 数组类型： array
    - 存储多个数据

- 特殊数据类型：2小类
  - 资源类型(resource)
    - 存放资源数据，如数据库、文件等
  - 空类型(NULL)
    - NULL类型的值就是NULL，不可以运算



### 4.2 类型转换

将数据的类型转成另一种

- 两种转换方式
  - 自动转换（系统自动判断的）
  - 强制转换（手动，效率高）



- 其他类型转数值
  - 布尔true为1，false为0
  - 字符串以字母开头的永远为0，以数字开头的，取碰到字符串为止

![image-20201210144434902](.\img\image-20201210144434902.png)

```php
<?php
$a = 'abc11';
$b = '1.1.1abc';

// 自动类型转换
// 布尔值true自动转为1
echo true + 1;

// 手动类型转换
// php7为了提高性能，移除了一部分自动类型转换，现在这么加不会自动转了
// echo $a + $b;
// 变量前面加括号，里面写要转换的类型
echo (float)$a + (float)$b, '<br>';
echo intval($a) + intval($b), '<br>';
// 结果为1.1和1，$a转成0,$b转成了1以及1.1


// 判断数据类型
// 布尔类型不能用echo查看，可以用var_dump输出类型和值
// is_datatype 可以判断是否为某个类型，结果为布尔值
var_dump(is_int($a));
var_dump(is_string($b));
// gettype获取变量的类型
echo gettype($a), '<br>';
// settype设置变量的类型，如果设置成功会返回true
var_dump(settype($b, 'int'));
echo '<br>', gettype($b), $b;

// 强制转换和settype的区别
// 强制转换是对数据复制后转换，不影响原来的数据，settype是直接对原数据转换
```

### 4.3 数据类型更多介绍

#### 整数类型

```php
// php有四种整形进制定义
// 十进制
$a1 = 110;
// 二进制 0b开头
$a2 = 0b110;
// 八进制 0开头
$a3 = 0110;
// 十六进制 0x开头
$a4 = 0x110;
echo $a1 . '<br>' . $a2 . '<br>' . $a3 . '<br>' . $a4 . '<br>';
// echo自动输出十进制整数
```

![image-20201210160041925](.\img\image-20201210160041925.png)

#### 浮点类型

```php
// 浮点型
// 二进制码第一位是正负号，紧跟的7位是科学计数法的中10的指数，后面的是因数，二者乘积就是存储的数值

$f1 = 1.23;
$f2 = 1.23e10;
// 由于因数为不断除以2得到，位数超过精度时舍弃尾部，所以结果可能不准确
$f4 = 2.1;
$f5 = 0.7;
var_dump($f4 / 3 === $f5);
// 当整形超过存储的范围后会用浮点型存储
$f3 = PHP_INT_MAX;
echo gettype($f3), '<br>';
$f3 += 1;
var_dump($f1, $f2, $f3);
```



#### 布尔类型

```php
// 布尔类型
// 真、假   true false
// 其他类型转布尔类型时，有些地方需要注意
// empty() 判断数据的值是否为“空”，不是NULL，为“空”返回true，否则false，空字符串空数组都是true
// isset() 检测变量是否已设置并且非 NULL，存在变量返回true，否则false

/*            empty()    isset()
$x;           true       false
$x=null;      true       false
$x=undefined  true       false
上面三个isset为false，其他一般为true

$x=0;         true
$x="0";       true
$x=false;     true
$x="false";   false
布尔值false为empty为true，但是字符串“false”为false
数字0和字符串0都为true


*/

// 具体的看php手册
```



![image-20201210173317421](.\img\image-20201210173317421.png)

