# 字符串



## 1 定义方式

### 方式1  引号定义

用成对的单引号或双引号包裹即可

- 适合没有结构要求的字符串
- 适合不超过一行的

### 方式2  边界符定义

- nowdoc  定义单引号字符串

- heredoc  定义双引号字符串

```php
https://www.php.cn/php-weizijiaocheng-381946.html
<br>
<?php
// 1.引号定义
// 2.结构化定义
// 但是我用完发现好像都是有结构的。。。？


$str1 = "双引号
    定义";
$str2 = '单引号
    定义';

// 定界符heredoc和nowdoc
$str3 = <<<EOD1
  heredoc： >>>后跟自定义标志符，然后回车输入字符串本身，最后回车，以自定义标志符结尾。
  定义双引号字符串
  变量将会解析，方法不会
  如：$str1 被解析了（后面要空格）或者用花括号包起来 {$str1}
EOD1;
$str4 = <<<'EOD2'
  nowdoc： 类似heredoc，但是自定义标志符要用单引号包裹，且不会解析变量。
  定义单引号字符串
  $str1没有解析
EOD2;

echo $str1.'<br>'. $str2.'<br>'. $str3.'<br>'. $str4;
```



## 2 字符串转义

特定字符需要通过反斜杠+字母来表示

\\'  在单引号字符串中显示单引号

\\"  在双引号字符串中显示双引号

\r  本意是回到行首位置，现在一般代表回车

\n  新的一行

\t   tab 或者多个空格

\\$  由于$符表示变量，加\\转义显示$

```php
<?php
// 单引号字符串只转义单引号
$a = '\'\"\r\n\t\$';
$b = "\'\"\r\n\t\$";

echo $a . '<br>';  // 显示 '\"\r\n\t\$   可以看到只转义了单引号
echo $b . '<br>';  // 显示 \'" $         可以看到，除了单引号没转义，其他都转义了

// 由于双引号字符串识别$，所以可以解析变量
// 由于直接写需要有空格，导致输出也有空格，可以用{}包裹起来
$c = "$a 被解析了 {$b}也被解析了";
echo $c;
```



## 3 字符串长度

通过strlen()可以得到字符串所占字节长度，但是中文不止1字节。

由于文件编码方式不同，中文可能占2字节（如bgk），也可能占3字节(如uft8)

为了解决多字节字符串长度问题，需要加载mbstring扩展（multi bytes string意为多字节字符串）

进入php.ini文件，去掉这行前面的分号 `extension=mbstring`

开启后，可以使用一些mb_开头的扩展函数

如mb_strlen:

```
mb_strlen( string $str [, string $encoding = mb_internal_encoding()] ) : mixed
```

- 参数1：要统计的字符串
- 参数2：按照指定字符集统计（默认为内部字符编码）