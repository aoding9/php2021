## 1 文件包含

https://blog.csdn.net/qq_36324472/article/details/110133609

### 1.1 是啥

在一个php脚本文件中包含另一个php文件

### 1.2 有啥用

- 向上包含（把朋友的东西给自己用）：使用被包含文件中的内容，比如变量、函数等等，实现代码复用，一般在上面引用，叫向上包含

- 向下包含（把自己的东西给朋友用）：将自己的变量函数等等，分析给被包含的文件，，一般在下面引用，叫向下包含
- 分工协作，利于维护和阅读



### 1.3 怎么用

包含两大种，4小种

- include 
- include_once
- require
- require_once



带有once的，系统会自动判断是否已经包含过，不重复包含

```php
<?php
// 向上包含，使用上面包含文件中的内容
  include '1-aa.php';
  // 另一种写法
  // include(文件路径)
  echo $a;
$b = 2;
  // 向下包含，先把自己的内容给下面包含的文件使用
  require '1-bb.php';
  

  

  // include和require区别
  // include包含文件出错，错误级别为Warning，不影响后面继续执行
  include '1-cc.php';
  // require包含文件出错，错误级别为error，后面代码不会执行
  require '1-cc.php';

  // 不过我这个都是报的warning，可能是新版本或者配置不同导致的


```



#### 文件加载原理：

系统将被包含内容嵌入到包含关键字所在位置，类似于复制过来了（魔术常量例外，仍然是原来文件的信息）
但是和直接写一起有区别：被包含文件单独编译，加载到内存中

#### php代码执行过程：

- 读取php文件 

- php编译为字节码(opcode） 

- zend engine解析opcode，按照字节码进行逻辑运算 

- 转换为html代码